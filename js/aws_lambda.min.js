/*!
 * Start Bootstrap - Agency v4.1.1 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 * Modified by Ken Cavagnolo
 */
"use strict";var aws=require("aws-sdk"),ses=new aws.SES({region:"us-east-1"}),receivers=["contact@primordialanalytics.com"],sender="contact@primordialanalytics.com";exports.handler=function(e,s,o){console.log("Incoming event:",e);var n=JSON.parse(e.body);console.log(n);var a={Destination:{ToAddresses:receivers},Message:{Body:{Text:{Data:"Name: "+n.name+"\nEmail: "+n.email+"\nPhone: "+n.phone+"\nMessage: "+n.message,Charset:"UTF-8"}},Subject:{Data:"Contact Form inquiry: "+n.name}},Source:sender},t={statusCode:null,isBase64Encoded:!1,headers:{"Access-Control-Allow-Origin":"*"},body:JSON.stringify({status:null,err:null})};console.log("===SENDING EMAIL==="),console.log(a),ses.sendEmail(a,function(n,a){n?(console.log("===EMAIL FAILED==="),t.statusCode=500,t.body=JSON.stringify({status:"Failure",err:n}),o(null,t)):(console.log("===EMAIL SENT==="),t.statusCode=200,t.body=JSON.stringify({status:"Success"}),o(null,t),s.succeed(e))})};