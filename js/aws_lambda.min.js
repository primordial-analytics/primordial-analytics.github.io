/*!
 * Start Bootstrap - Agency v4.1.1 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2024 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 * Modified by Ken Cavagnolo
 */
var aws=require("aws-sdk"),ses=new aws.SES({region:"us-east-1"}),receivers=["contact@primordialanalytics.com"],sender="contact@primordialanalytics.com";exports.handler=function(o,n,a){console.log("Incoming event:",o);var e=JSON.parse(o.body),e=(console.log(e),{Destination:{ToAddresses:receivers},Message:{Body:{Text:{Data:"Name: "+e.name+"\nEmail: "+e.email+"\nPhone: "+e.phone+"\nMessage: "+e.message,Charset:"UTF-8"}},Subject:{Data:"Contact Form inquiry: "+e.name}},Source:sender}),t={statusCode:null,isBase64Encoded:!1,headers:{"Access-Control-Allow-Origin":"*"},body:JSON.stringify({status:null,err:null})};console.log("===SENDING EMAIL==="),console.log(e),ses.sendEmail(e,function(e,s){e?(console.log("===EMAIL FAILED==="),t.statusCode=500,t.body=JSON.stringify({status:"Failure",err:e}),a(null,t)):(console.log("===EMAIL SENT==="),t.statusCode=200,t.body=JSON.stringify({status:"Success"}),a(null,t),n.succeed(o))})};